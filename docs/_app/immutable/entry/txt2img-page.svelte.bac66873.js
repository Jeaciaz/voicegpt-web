import{S as z,i as K,s as Y,e as j,b as V,v as _e,d as E,f as he,g as k,h as _,C as be,D as ge,E as pe,F as ve,k as p,q as W,a as q,l as v,m as T,r as O,c as M,n as d,G as b,u as X,y as I,z as N,A as S,B as F,L as U,J as ke,M as se,N as we,O as Ee,H as Te,o as Ve,P as qe,w as Me}from"../chunks/index.261427c6.js";function Pe(u){let e;const t=u[3].default,l=be(t,u,u[2],null);return{c(){l&&l.c()},l(n){l&&l.l(n)},m(n,a){l&&l.m(n,a),e=!0},p(n,a){l&&l.p&&(!e||a&4)&&ge(l,t,n,n[2],e?ve(t,n[2],a,null):pe(n[2]),null)},i(n){e||(k(l,n),e=!0)},o(n){E(l,n),e=!1},d(n){l&&l.d(n)}}}function Ae(u){let e,t,l,n,a,r,i=u[1]&&re();const s=u[3].default,f=be(s,u,u[2],null);return{c(){e=p("label"),t=p("span"),l=W(u[0]),n=q(),i&&i.c(),a=q(),f&&f.c(),this.h()},l(m){e=v(m,"LABEL",{class:!0});var c=T(e);t=v(c,"SPAN",{class:!0});var o=T(t);l=O(o,u[0]),n=M(o),i&&i.l(o),o.forEach(_),a=M(c),f&&f.l(c),c.forEach(_),this.h()},h(){d(t,"class","text-sm text-[var(--theme-hint-color)] pl-1.5"),d(e,"class","flex flex-col")},m(m,c){V(m,e,c),b(e,t),b(t,l),b(t,n),i&&i.m(t,null),b(e,a),f&&f.m(e,null),r=!0},p(m,c){(!r||c&1)&&X(l,m[0]),m[1]?i||(i=re(),i.c(),i.m(t,null)):i&&(i.d(1),i=null),f&&f.p&&(!r||c&4)&&ge(f,s,m,m[2],r?ve(s,m[2],c,null):pe(m[2]),null)},i(m){r||(k(f,m),r=!0)},o(m){E(f,m),r=!1},d(m){m&&_(e),i&&i.d(),f&&f.d(m)}}}function re(u){let e,t;return{c(){e=p("span"),t=W("*"),this.h()},l(l){e=v(l,"SPAN",{class:!0});var n=T(e);t=O(n,"*"),n.forEach(_),this.h()},h(){d(e,"class","text-sm text-red-500")},m(l,n){V(l,e,n),b(e,t)},d(l){l&&_(e)}}}function De(u){let e,t,l,n;const a=[Ae,Pe],r=[];function i(s,f){return s[0]!==void 0?0:1}return e=i(u),t=r[e]=a[e](u),{c(){t.c(),l=j()},l(s){t.l(s),l=j()},m(s,f){r[e].m(s,f),V(s,l,f),n=!0},p(s,[f]){let m=e;e=i(s),e===m?r[e].p(s,f):(_e(),E(r[m],1,1,()=>{r[m]=null}),he(),t=r[e],t?t.p(s,f):(t=r[e]=a[e](s),t.c()),k(t,1),t.m(l.parentNode,l))},i(s){n||(k(t),n=!0)},o(s){E(t),n=!1},d(s){r[e].d(s),s&&_(l)}}}function Ie(u,e,t){let{$$slots:l={},$$scope:n}=e,{label:a=void 0}=e,{required:r=!1}=e;return u.$$set=i=>{"label"in i&&t(0,a=i.label),"required"in i&&t(1,r=i.required),"$$scope"in i&&t(2,n=i.$$scope)},[a,r,n,l]}class ne extends z{constructor(e){super(),K(this,e,Ie,De,Y,{label:0,required:1})}}function Ne(u){let e,t,l,n,a,r,i,s,f,m;return{c(){e=p("div"),t=p("span"),l=W(u[2]),n=q(),a=p("input"),r=q(),i=p("span"),s=W(u[1]),this.h()},l(c){e=v(c,"DIV",{class:!0});var o=T(e);t=v(o,"SPAN",{});var P=T(t);l=O(P,u[2]),P.forEach(_),n=M(o),a=v(o,"INPUT",{class:!0,type:!0,max:!0,min:!0,step:!0,name:!0}),r=M(o),i=v(o,"SPAN",{});var A=T(i);s=O(A,u[1]),A.forEach(_),o.forEach(_),this.h()},h(){d(a,"class","mx-1 flex-1 accent-[var(--theme-button-color)]"),d(a,"type","range"),a.value=u[0],d(a,"max",u[1]),d(a,"min",u[2]),d(a,"step",u[3]),d(a,"name",u[4]),d(e,"class","flex text-sm")},m(c,o){V(c,e,o),b(e,t),b(t,l),b(e,n),b(e,a),b(e,r),b(e,i),b(i,s),f||(m=U(a,"input",u[8]),f=!0)},p(c,o){o&4&&X(l,c[2]),o&1&&(a.value=c[0]),o&2&&d(a,"max",c[1]),o&4&&d(a,"min",c[2]),o&8&&d(a,"step",c[3]),o&16&&d(a,"name",c[4]),o&2&&X(s,c[1])},d(c){c&&_(e),f=!1,m()}}}function Se(u){let e,t;return e=new ne({props:{label:u[5]+": "+u[0],$$slots:{default:[Ne]},$$scope:{ctx:u}}}),{c(){I(e.$$.fragment)},l(l){N(e.$$.fragment,l)},m(l,n){S(e,l,n),t=!0},p(l,[n]){const a={};n&33&&(a.label=l[5]+": "+l[0]),n&543&&(a.$$scope={dirty:n,ctx:l}),e.$set(a)},i(l){t||(k(e.$$.fragment,l),t=!0)},o(l){E(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Fe(u,e,t){let{max:l}=e,{min:n}=e,{step:a=1}=e,{defaultValue:r=(l+n)/2}=e,{value:i=r}=e,{name:s=void 0}=e,{label:f=void 0}=e;function m(o){t(0,i=+o)}const c=o=>m(o.currentTarget.value);return u.$$set=o=>{"max"in o&&t(1,l=o.max),"min"in o&&t(2,n=o.min),"step"in o&&t(3,a=o.step),"defaultValue"in o&&t(7,r=o.defaultValue),"value"in o&&t(0,i=o.value),"name"in o&&t(4,s=o.name),"label"in o&&t(5,f=o.label)},[i,l,n,a,s,f,m,r,c]}class ie extends z{constructor(e){super(),K(this,e,Fe,Se,Y,{max:1,min:2,step:3,defaultValue:7,value:0,name:4,label:5})}}function fe(u,e,t){const l=u.slice();return l[3]=e[t].label,l[6]=e[t].value,l}function oe(u){let e,t;return e=new ne({props:{label:u[3],$$slots:{default:[Le]},$$scope:{ctx:u}}}),{c(){I(e.$$.fragment)},l(l){N(e.$$.fragment,l)},m(l,n){S(e,l,n),t=!0},p(l,n){const a={};n&8&&(a.label=l[3]),n&519&&(a.$$scope={dirty:n,ctx:l}),e.$set(a)},i(l){t||(k(e.$$.fragment,l),t=!0)},o(l){E(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function me(u){let e,t,l=u[3]+"",n,a,r,i;function s(){return u[5](u[6])}return{c(){e=p("li"),t=p("button"),n=W(l),a=q(),this.h()},l(f){e=v(f,"LI",{class:!0});var m=T(e);t=v(m,"BUTTON",{type:!0,class:!0});var c=T(t);n=O(c,l),c.forEach(_),a=M(m),m.forEach(_),this.h()},h(){d(t,"type","button"),d(t,"class","item cursor-pointer svelte-fv5mem"),se(t,"selected",u[0]===u[6]),d(e,"class","[&:not(:last-child)]:mr-4")},m(f,m){V(f,e,m),b(e,t),b(t,n),b(e,a),r||(i=U(t,"click",s),r=!0)},p(f,m){u=f,m&4&&l!==(l=u[3]+"")&&X(n,l),m&5&&se(t,"selected",u[0]===u[6])},d(f){f&&_(e),r=!1,i()}}}function Le(u){let e,t,l,n=u[2],a=[];for(let r=0;r<n.length;r+=1)a[r]=me(fe(u,n,r));return{c(){e=p("ul");for(let r=0;r<a.length;r+=1)a[r].c();t=q(),l=p("input"),this.h()},l(r){e=v(r,"UL",{class:!0});var i=T(e);for(let s=0;s<a.length;s+=1)a[s].l(i);i.forEach(_),t=M(r),l=v(r,"INPUT",{type:!0,name:!0}),this.h()},h(){d(e,"class","flex flex-nowrap list-none overflow-auto max-w-full pt-1"),d(l,"type","hidden"),d(l,"name",u[1]),l.value=u[0]},m(r,i){V(r,e,i);for(let s=0;s<a.length;s+=1)a[s]&&a[s].m(e,null);V(r,t,i),V(r,l,i)},p(r,i){if(i&5){n=r[2];let s;for(s=0;s<n.length;s+=1){const f=fe(r,n,s);a[s]?a[s].p(f,i):(a[s]=me(f),a[s].c(),a[s].m(e,null))}for(;s<a.length;s+=1)a[s].d(1);a.length=n.length}i&2&&d(l,"name",r[1]),i&1&&(l.value=r[0])},d(r){r&&_(e),ke(a,r),r&&_(t),r&&_(l)}}}function Be(u){let e,t,l=u[2].length>0&&oe(u);return{c(){l&&l.c(),e=j()},l(n){l&&l.l(n),e=j()},m(n,a){l&&l.m(n,a),V(n,e,a),t=!0},p(n,[a]){n[2].length>0?l?(l.p(n,a),a&4&&k(l,1)):(l=oe(n),l.c(),k(l,1),l.m(e.parentNode,e)):l&&(_e(),E(l,1,1,()=>{l=null}),he())},i(n){t||(k(l),t=!0)},o(n){E(l),t=!1},d(n){l&&l.d(n),n&&_(e)}}}function Ce(u,e,t){let{name:l=void 0}=e,{options:n=[]}=e,{label:a=void 0}=e,{defaultValue:r=n[0].value}=e,{value:i=r}=e;const s=f=>t(0,i=f);return u.$$set=f=>{"name"in f&&t(1,l=f.name),"options"in f&&t(2,n=f.options),"label"in f&&t(3,a=f.label),"defaultValue"in f&&t(4,r=f.defaultValue),"value"in f&&t(0,i=f.value)},[i,l,n,a,r,s]}class ce extends z{constructor(e){super(),K(this,e,Ce,Be,Y,{name:1,options:2,label:3,defaultValue:4,value:0})}}function de(u){let e,t=u[7].message+"",l;return{c(){e=p("span"),l=W(t),this.h()},l(n){e=v(n,"SPAN",{class:!0});var a=T(e);l=O(a,t),a.forEach(_),this.h()},h(){d(e,"class","text-xs text-red-500")},m(n,a){V(n,e,a),b(e,l)},p(n,a){a&128&&t!==(t=n[7].message+"")&&X(l,t)},d(n){n&&_(e)}}}function Ue(u){let e,t,l,n,a,r,i=u[8]&&u[7]!==void 0&&de(u);return{c(){e=p("input"),l=q(),i&&i.c(),n=j(),this.h()},l(s){e=v(s,"INPUT",{type:!0,name:!0,placeholder:!0,class:!0,"aria-label":!0}),l=M(s),i&&i.l(s),n=j(),this.h()},h(){d(e,"type",u[6]),d(e,"name",u[4]),d(e,"placeholder",u[2]),e.disabled=u[3],e.required=u[5],e.value=u[0],d(e,"class",t="border border-[var(--theme-hint-color)] rounded-md p-1 focus-visible:border-[var(--theme-text-color)] outline-0 "+(u[8]?"invalid:border-red-500":"")+" "+(u[8]&&u[7]!==void 0?"border-red-500":"")),d(e,"aria-label",u[1])},m(s,f){V(s,e,f),V(s,l,f),i&&i.m(s,f),V(s,n,f),a||(r=[U(e,"input",u[10]),U(e,"change",u[13]),U(e,"focus",u[14]),U(e,"blur",u[15])],a=!0)},p(s,f){f&64&&d(e,"type",s[6]),f&16&&d(e,"name",s[4]),f&4&&d(e,"placeholder",s[2]),f&8&&(e.disabled=s[3]),f&32&&(e.required=s[5]),f&1&&e.value!==s[0]&&(e.value=s[0]),f&384&&t!==(t="border border-[var(--theme-hint-color)] rounded-md p-1 focus-visible:border-[var(--theme-text-color)] outline-0 "+(s[8]?"invalid:border-red-500":"")+" "+(s[8]&&s[7]!==void 0?"border-red-500":""))&&d(e,"class",t),f&2&&d(e,"aria-label",s[1]),s[8]&&s[7]!==void 0?i?i.p(s,f):(i=de(s),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null)},d(s){s&&_(e),s&&_(l),i&&i.d(s),s&&_(n),a=!1,we(r)}}}function We(u){let e,t;return e=new ne({props:{label:u[1],required:u[5],$$slots:{default:[Ue]},$$scope:{ctx:u}}}),{c(){I(e.$$.fragment)},l(l){N(e.$$.fragment,l)},m(l,n){S(e,l,n),t=!0},p(l,[n]){const a={};n&2&&(a.label=l[1]),n&32&&(a.required=l[5]),n&131583&&(a.$$scope={dirty:n,ctx:l}),e.$set(a)},i(l){t||(k(e.$$.fragment,l),t=!0)},o(l){E(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Oe(u,e,t){let{label:l=void 0}=e,{defaultValue:n=""}=e,{value:a=n}=e,{placeholder:r=void 0}=e,{disabled:i=!1}=e,{name:s=void 0}=e,{required:f=!1}=e,{validate:m=void 0}=e,{type:c="text"}=e,o,P=!1;function A(h){return c.match(/^number|range$/)?+h:h}function D(h){t(7,o=m==null?void 0:m(A(h)))}function w(h){t(0,a=A(h.currentTarget.value))}const L=h=>D(h.currentTarget.value),J=()=>t(8,P=!1),B=()=>t(8,P=!0);return u.$$set=h=>{"label"in h&&t(1,l=h.label),"defaultValue"in h&&t(11,n=h.defaultValue),"value"in h&&t(0,a=h.value),"placeholder"in h&&t(2,r=h.placeholder),"disabled"in h&&t(3,i=h.disabled),"name"in h&&t(4,s=h.name),"required"in h&&t(5,f=h.required),"validate"in h&&t(12,m=h.validate),"type"in h&&t(6,c=h.type)},[a,l,r,i,s,f,c,o,P,D,w,n,m,L,J,B]}class le extends z{constructor(e){super(),K(this,e,Oe,We,Y,{label:1,defaultValue:11,value:0,placeholder:2,disabled:3,name:4,required:5,validate:12,type:6})}}function Ge(u){let e,t,l,n,a,r,i,s,f,m,c,o,P,A,D,w,L,J,B,h,G,$,H,Q,ee,ae;return r=new le({props:{name:"prompt",label:"Запрос",placeholder:"elden ring, epic",required:!0}}),s=new le({props:{name:"negative_prompt",label:"Антизапрос",placeholder:"realism"}}),m=new ce({props:{name:"dimensions",options:u[2],label:"Размер изображения: "}}),L=new ce({props:{name:"sampler_method",options:u[1],label:"Метод семплера"}}),B=new ie({props:{name:"sampler_steps",min:20,max:40,label:"Шаги семплера",defaultValue:20}}),G=new le({props:{name:"seed",label:"Seed",placeholder:"1234567890",type:"number"}}),H=new ie({props:{name:"cfg_scale",min:1,max:25,label:"CFG Scale",step:.5,defaultValue:7.5}}),{c(){e=p("h1"),t=W("TXT -> IMG"),l=q(),n=p("form"),a=p("div"),I(r.$$.fragment),i=q(),I(s.$$.fragment),f=q(),I(m.$$.fragment),c=q(),o=p("details"),P=p("summary"),A=W("Продвинутые опции"),D=q(),w=p("div"),I(L.$$.fragment),J=q(),I(B.$$.fragment),h=q(),I(G.$$.fragment),$=q(),I(H.$$.fragment),this.h()},l(g){e=v(g,"H1",{class:!0});var y=T(e);t=O(y,"TXT -> IMG"),y.forEach(_),l=M(g),n=v(g,"FORM",{class:!0});var R=T(n);a=v(R,"DIV",{class:!0});var Z=T(a);N(r.$$.fragment,Z),i=M(Z),N(s.$$.fragment,Z),Z.forEach(_),f=M(R),N(m.$$.fragment,R),c=M(R),o=v(R,"DETAILS",{});var x=T(o);P=v(x,"SUMMARY",{});var ue=T(P);A=O(ue,"Продвинутые опции"),ue.forEach(_),D=M(x),w=v(x,"DIV",{class:!0});var C=T(w);N(L.$$.fragment,C),J=M(C),N(B.$$.fragment,C),h=M(C),N(G.$$.fragment,C),$=M(C),N(H.$$.fragment,C),C.forEach(_),x.forEach(_),R.forEach(_),this.h()},h(){d(e,"class","text-center text-3xl"),d(a,"class","grid grid-cols-2 gap-2 mt-4"),d(w,"class","grid gap-4"),d(n,"class","grid gap-4 p-4")},m(g,y){V(g,e,y),b(e,t),V(g,l,y),V(g,n,y),b(n,a),S(r,a,null),b(a,i),S(s,a,null),b(n,f),S(m,n,null),b(n,c),b(n,o),b(o,P),b(P,A),b(o,D),b(o,w),S(L,w,null),b(w,J),S(B,w,null),b(w,h),S(G,w,null),b(w,$),S(H,w,null),u[5](n),Q=!0,ee||(ae=[U(n,"submit",Ee(u[4])),U(n,"input",u[3])],ee=!0)},p:Te,i(g){Q||(k(r.$$.fragment,g),k(s.$$.fragment,g),k(m.$$.fragment,g),k(L.$$.fragment,g),k(B.$$.fragment,g),k(G.$$.fragment,g),k(H.$$.fragment,g),Q=!0)},o(g){E(r.$$.fragment,g),E(s.$$.fragment,g),E(m.$$.fragment,g),E(L.$$.fragment,g),E(B.$$.fragment,g),E(G.$$.fragment,g),E(H.$$.fragment,g),Q=!1},d(g){g&&_(e),g&&_(l),g&&_(n),F(r),F(s),F(m),F(L),F(B),F(G),F(H),u[5](null),ee=!1,we(ae)}}}const te="dimensions";function He(u,e,t){const l=[{label:"Euler 𝛼",value:"Euler a"},{label:"Heun",value:"Heun"},{label:"DPM++ M2",value:"DPM++ 2M"},{label:"DDIM",value:"DDIM"}],n=[{label:"Квадрат [512x512]",value:"square"},{label:"Портрет [512x768]",value:"portrait"},{label:"Пейзаж [768x512]",value:"landscape"}],a={square:{width:512,height:512},portrait:{width:512,height:768},landscape:{width:768,height:512}};let r;function i(o){return o in a?a[o]:{}}function s(){r.checkValidity()&&window.Telegram.WebApp.MainButton.setParams({color:window.Telegram.WebApp.themeParams.button_color}).enable()}function f(){window.Telegram.WebApp.MainButton.showProgress();const o={},P=new FormData(r),A=["cfg_scale","sampler_steps"];P.forEach((D,w)=>{D&&(o[w]=A.includes(w)?+D:D)}),typeof o[te]=="string"&&(Object.assign(o,i(o[te])),delete o[te]),console.log(o),window.Telegram.WebApp.sendData(JSON.stringify(o))}Ve(()=>{window.Telegram.WebApp.MainButton.setText("Сгенерировать").onClick(()=>f()).disable().setParams({color:window.Telegram.WebApp.themeParams.hint_color}).show()});function m(o){qe.call(this,u,o)}function c(o){Me[o?"unshift":"push"](()=>{r=o,t(0,r)})}return[r,l,n,s,m,c]}class Re extends z{constructor(e){super(),K(this,e,He,Ge,Y,{})}}export{Re as default};
