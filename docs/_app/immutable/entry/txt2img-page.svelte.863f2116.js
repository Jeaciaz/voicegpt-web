import{S as j,i as z,s as K,e as H,b as T,v as de,d as k,f as _e,g as w,h,C as he,D as be,E as ge,F as pe,k as p,q as B,a as q,l as v,m as E,r as C,c as A,n as c,G as b,u as X,y as N,z as S,A as D,B as F,J as V,K as we,L as re,M as ve,N as ke,H as Ee,o as Te,O as qe,w as Ae}from"../chunks/index.56cd7570.js";function Pe(s){let e;const n=s[3].default,l=he(n,s,s[2],null);return{c(){l&&l.c()},l(t){l&&l.l(t)},m(t,r){l&&l.m(t,r),e=!0},p(t,r){l&&l.p&&(!e||r&4)&&be(l,n,t,t[2],e?pe(n,t[2],r,null):ge(t[2]),null)},i(t){e||(w(l,t),e=!0)},o(t){k(l,t),e=!1},d(t){l&&l.d(t)}}}function Ie(s){let e,n,l,t,r,i,u=s[1]&&se();const a=s[3].default,f=he(a,s,s[2],null);return{c(){e=p("label"),n=p("span"),l=B(s[0]),t=q(),u&&u.c(),r=q(),f&&f.c(),this.h()},l(o){e=v(o,"LABEL",{class:!0});var m=E(e);n=v(m,"SPAN",{class:!0});var d=E(n);l=C(d,s[0]),t=A(d),u&&u.l(d),d.forEach(h),r=A(m),f&&f.l(m),m.forEach(h),this.h()},h(){c(n,"class","text-sm text-[var(--theme-hint-color)] pl-1.5"),c(e,"class","flex flex-col")},m(o,m){T(o,e,m),b(e,n),b(n,l),b(n,t),u&&u.m(n,null),b(e,r),f&&f.m(e,null),i=!0},p(o,m){(!i||m&1)&&X(l,o[0]),o[1]?u||(u=se(),u.c(),u.m(n,null)):u&&(u.d(1),u=null),f&&f.p&&(!i||m&4)&&be(f,a,o,o[2],i?pe(a,o[2],m,null):ge(o[2]),null)},i(o){i||(w(f,o),i=!0)},o(o){k(f,o),i=!1},d(o){o&&h(e),u&&u.d(),f&&f.d(o)}}}function se(s){let e,n;return{c(){e=p("span"),n=B("*"),this.h()},l(l){e=v(l,"SPAN",{class:!0});var t=E(e);n=C(t,"*"),t.forEach(h),this.h()},h(){c(e,"class","text-sm text-red-500")},m(l,t){T(l,e,t),b(e,n)},d(l){l&&h(e)}}}function Me(s){let e,n,l,t;const r=[Ie,Pe],i=[];function u(a,f){return a[0]!==void 0?0:1}return e=u(s),n=i[e]=r[e](s),{c(){n.c(),l=H()},l(a){n.l(a),l=H()},m(a,f){i[e].m(a,f),T(a,l,f),t=!0},p(a,[f]){let o=e;e=u(a),e===o?i[e].p(a,f):(de(),k(i[o],1,1,()=>{i[o]=null}),_e(),n=i[e],n?n.p(a,f):(n=i[e]=r[e](a),n.c()),w(n,1),n.m(l.parentNode,l))},i(a){t||(w(n),t=!0)},o(a){k(n),t=!1},d(a){i[e].d(a),a&&h(l)}}}function Ne(s,e,n){let{$$slots:l={},$$scope:t}=e,{label:r=void 0}=e,{required:i=!1}=e;return s.$$set=u=>{"label"in u&&n(0,r=u.label),"required"in u&&n(1,i=u.required),"$$scope"in u&&n(2,t=u.$$scope)},[r,i,t,l]}class te extends j{constructor(e){super(),z(this,e,Ne,Me,K,{label:0,required:1})}}function Se(s){let e,n,l,t,r,i,u,a,f,o;return{c(){e=p("div"),n=p("span"),l=B(s[2]),t=q(),r=p("input"),i=q(),u=p("span"),a=B(s[1]),this.h()},l(m){e=v(m,"DIV",{class:!0});var d=E(e);n=v(d,"SPAN",{});var I=E(n);l=C(I,s[2]),I.forEach(h),t=A(d),r=v(d,"INPUT",{class:!0,type:!0,max:!0,min:!0,name:!0}),i=A(d),u=v(d,"SPAN",{});var M=E(u);a=C(M,s[1]),M.forEach(h),d.forEach(h),this.h()},h(){c(r,"class","mx-1 flex-1 accent-[var(--theme-button-color)]"),c(r,"type","range"),r.value=s[0],c(r,"max",s[1]),c(r,"min",s[2]),c(r,"name",s[3]),c(e,"class","flex text-sm")},m(m,d){T(m,e,d),b(e,n),b(n,l),b(e,t),b(e,r),b(e,i),b(e,u),b(u,a),f||(o=V(r,"input",s[6]),f=!0)},p(m,d){d&4&&X(l,m[2]),d&1&&(r.value=m[0]),d&2&&c(r,"max",m[1]),d&4&&c(r,"min",m[2]),d&8&&c(r,"name",m[3]),d&2&&X(a,m[1])},d(m){m&&h(e),f=!1,o()}}}function De(s){let e,n;return e=new te({props:{label:s[4]+": "+s[0],$$slots:{default:[Se]},$$scope:{ctx:s}}}),{c(){N(e.$$.fragment)},l(l){S(e.$$.fragment,l)},m(l,t){D(e,l,t),n=!0},p(l,[t]){const r={};t&17&&(r.label=l[4]+": "+l[0]),t&143&&(r.$$scope={dirty:t,ctx:l}),e.$set(r)},i(l){n||(w(e.$$.fragment,l),n=!0)},o(l){k(e.$$.fragment,l),n=!1},d(l){F(e,l)}}}function Fe(s,e,n){let{max:l}=e,{min:t}=e,{value:r=(l+t)/2}=e,{name:i=void 0}=e,{label:u=void 0}=e;function a(o){n(0,r=+o)}const f=o=>a(o.currentTarget.value);return s.$$set=o=>{"max"in o&&n(1,l=o.max),"min"in o&&n(2,t=o.min),"value"in o&&n(0,r=o.value),"name"in o&&n(3,i=o.name),"label"in o&&n(4,u=o.label)},[r,l,t,i,u,a,f]}class ie extends j{constructor(e){super(),z(this,e,Fe,De,K,{max:1,min:2,value:0,name:3,label:4})}}function ue(s,e,n){const l=s.slice();return l[3]=e[n].label,l[5]=e[n].value,l}function fe(s){let e,n;return e=new te({props:{label:s[3],$$slots:{default:[ye]},$$scope:{ctx:s}}}),{c(){N(e.$$.fragment)},l(l){S(e.$$.fragment,l)},m(l,t){D(e,l,t),n=!0},p(l,t){const r={};t&8&&(r.label=l[3]),t&263&&(r.$$scope={dirty:t,ctx:l}),e.$set(r)},i(l){n||(w(e.$$.fragment,l),n=!0)},o(l){k(e.$$.fragment,l),n=!1},d(l){F(e,l)}}}function oe(s){let e,n,l=s[3]+"",t,r,i,u;function a(){return s[4](s[5])}return{c(){e=p("li"),n=p("button"),t=B(l),r=q(),this.h()},l(f){e=v(f,"LI",{class:!0});var o=E(e);n=v(o,"BUTTON",{type:!0,class:!0});var m=E(n);t=C(m,l),m.forEach(h),r=A(o),o.forEach(h),this.h()},h(){c(n,"type","button"),c(n,"class","item cursor-pointer svelte-fv5mem"),re(n,"selected",s[0]===s[5]),c(e,"class","[&:not(:last-child)]:mr-4")},m(f,o){T(f,e,o),b(e,n),b(n,t),b(e,r),i||(u=V(n,"click",a),i=!0)},p(f,o){s=f,o&4&&l!==(l=s[3]+"")&&X(t,l),o&5&&re(n,"selected",s[0]===s[5])},d(f){f&&h(e),i=!1,u()}}}function ye(s){let e,n,l,t=s[2],r=[];for(let i=0;i<t.length;i+=1)r[i]=oe(ue(s,t,i));return{c(){e=p("ul");for(let i=0;i<r.length;i+=1)r[i].c();n=q(),l=p("input"),this.h()},l(i){e=v(i,"UL",{class:!0});var u=E(e);for(let a=0;a<r.length;a+=1)r[a].l(u);u.forEach(h),n=A(i),l=v(i,"INPUT",{type:!0,name:!0}),this.h()},h(){c(e,"class","flex flex-nowrap list-none overflow-auto max-w-full pt-1"),c(l,"type","hidden"),c(l,"name",s[1]),l.value=s[0]},m(i,u){T(i,e,u);for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(e,null);T(i,n,u),T(i,l,u)},p(i,u){if(u&5){t=i[2];let a;for(a=0;a<t.length;a+=1){const f=ue(i,t,a);r[a]?r[a].p(f,u):(r[a]=oe(f),r[a].c(),r[a].m(e,null))}for(;a<r.length;a+=1)r[a].d(1);r.length=t.length}u&2&&c(l,"name",i[1]),u&1&&(l.value=i[0])},d(i){i&&h(e),we(r,i),i&&h(n),i&&h(l)}}}function Le(s){let e,n,l=s[2].length>0&&fe(s);return{c(){l&&l.c(),e=H()},l(t){l&&l.l(t),e=H()},m(t,r){l&&l.m(t,r),T(t,e,r),n=!0},p(t,[r]){t[2].length>0?l?(l.p(t,r),r&4&&w(l,1)):(l=fe(t),l.c(),w(l,1),l.m(e.parentNode,e)):l&&(de(),k(l,1,1,()=>{l=null}),_e())},i(t){n||(w(l),n=!0)},o(t){k(l),n=!1},d(t){l&&l.d(t),t&&h(e)}}}function Ve(s,e,n){let{name:l=void 0}=e,{options:t=[]}=e,{label:r=void 0}=e,{value:i=t[0].value}=e;const u=a=>n(0,i=a);return s.$$set=a=>{"name"in a&&n(1,l=a.name),"options"in a&&n(2,t=a.options),"label"in a&&n(3,r=a.label),"value"in a&&n(0,i=a.value)},[i,l,t,r,u]}class me extends j{constructor(e){super(),z(this,e,Ve,Le,K,{name:1,options:2,label:3,value:0})}}function ce(s){let e,n=s[7].message+"",l;return{c(){e=p("span"),l=B(n),this.h()},l(t){e=v(t,"SPAN",{class:!0});var r=E(e);l=C(r,n),r.forEach(h),this.h()},h(){c(e,"class","text-xs text-red-500")},m(t,r){T(t,e,r),b(e,l)},p(t,r){r&128&&n!==(n=t[7].message+"")&&X(l,n)},d(t){t&&h(e)}}}function Be(s){let e,n,l,t,r,i,u=s[8]&&s[7]!==void 0&&ce(s);return{c(){e=p("input"),l=q(),u&&u.c(),t=H(),this.h()},l(a){e=v(a,"INPUT",{type:!0,name:!0,placeholder:!0,class:!0,"aria-label":!0}),l=A(a),u&&u.l(a),t=H(),this.h()},h(){c(e,"type",s[6]),c(e,"name",s[4]),c(e,"placeholder",s[2]),e.disabled=s[3],e.required=s[5],e.value=s[0],c(e,"class",n="border border-[var(--theme-hint-color)] rounded-md p-1 focus-visible:border-[var(--theme-text-color)] outline-0 "+(s[8]?"invalid:border-red-500":"")+" "+(s[8]&&s[7]!==void 0?"border-red-500":"")),c(e,"aria-label",s[1])},m(a,f){T(a,e,f),T(a,l,f),u&&u.m(a,f),T(a,t,f),r||(i=[V(e,"input",s[10]),V(e,"change",s[12]),V(e,"focus",s[13]),V(e,"blur",s[14])],r=!0)},p(a,f){f&64&&c(e,"type",a[6]),f&16&&c(e,"name",a[4]),f&4&&c(e,"placeholder",a[2]),f&8&&(e.disabled=a[3]),f&32&&(e.required=a[5]),f&1&&e.value!==a[0]&&(e.value=a[0]),f&384&&n!==(n="border border-[var(--theme-hint-color)] rounded-md p-1 focus-visible:border-[var(--theme-text-color)] outline-0 "+(a[8]?"invalid:border-red-500":"")+" "+(a[8]&&a[7]!==void 0?"border-red-500":""))&&c(e,"class",n),f&2&&c(e,"aria-label",a[1]),a[8]&&a[7]!==void 0?u?u.p(a,f):(u=ce(a),u.c(),u.m(t.parentNode,t)):u&&(u.d(1),u=null)},d(a){a&&h(e),a&&h(l),u&&u.d(a),a&&h(t),r=!1,ve(i)}}}function Ce(s){let e,n;return e=new te({props:{label:s[1],required:s[5],$$slots:{default:[Be]},$$scope:{ctx:s}}}),{c(){N(e.$$.fragment)},l(l){S(e.$$.fragment,l)},m(l,t){D(e,l,t),n=!0},p(l,[t]){const r={};t&2&&(r.label=l[1]),t&32&&(r.required=l[5]),t&66047&&(r.$$scope={dirty:t,ctx:l}),e.$set(r)},i(l){n||(w(e.$$.fragment,l),n=!0)},o(l){k(e.$$.fragment,l),n=!1},d(l){F(e,l)}}}function Ue(s,e,n){let{label:l=void 0}=e,{value:t=""}=e,{placeholder:r=void 0}=e,{disabled:i=!1}=e,{name:u=void 0}=e,{required:a=!1}=e,{validate:f=void 0}=e,{type:o="text"}=e,m,d=!1;function I(_){return o.match(/^number|range$/)?+_:_}function M(_){n(7,m=f==null?void 0:f(I(_)))}function R(_){n(0,t=I(_.currentTarget.value))}const P=_=>M(_.currentTarget.value),y=()=>n(8,d=!1),J=()=>n(8,d=!0);return s.$$set=_=>{"label"in _&&n(1,l=_.label),"value"in _&&n(0,t=_.value),"placeholder"in _&&n(2,r=_.placeholder),"disabled"in _&&n(3,i=_.disabled),"name"in _&&n(4,u=_.name),"required"in _&&n(5,a=_.required),"validate"in _&&n(11,f=_.validate),"type"in _&&n(6,o=_.type)},[t,l,r,i,u,a,o,m,d,M,R,f,P,y,J]}class le extends j{constructor(e){super(),z(this,e,Ue,Ce,K,{label:1,value:0,placeholder:2,disabled:3,name:4,required:5,validate:11,type:6})}}function We(s){let e,n,l,t,r,i,u,a,f,o,m,d,I,M,R,P,y,J,_,$,U,x,W,Y,ee,ne;return i=new le({props:{name:"prompt",label:"Запрос",placeholder:"elden ring, epic",required:!0}}),a=new le({props:{name:"negative-prompt",label:"Антизапрос",placeholder:"realism"}}),o=new me({props:{name:"dimensions",options:s[2],label:"Размер изображения: "}}),y=new me({props:{name:"sampler-method",options:s[1],label:"Метод семплера"}}),_=new ie({props:{name:"sampler-steps",min:20,max:40,label:"Шаги семплера"}}),U=new le({props:{name:"seed",label:"Seed",placeholder:"1234567890",type:"number"}}),W=new ie({props:{name:"cfg-scale",min:1,max:25,label:"CFG Scale"}}),{c(){e=p("h1"),n=B("TXT -> IMG"),l=q(),t=p("form"),r=p("div"),N(i.$$.fragment),u=q(),N(a.$$.fragment),f=q(),N(o.$$.fragment),m=q(),d=p("details"),I=p("summary"),M=B("Продвинутые опции"),R=q(),P=p("div"),N(y.$$.fragment),J=q(),N(_.$$.fragment),$=q(),N(U.$$.fragment),x=q(),N(W.$$.fragment),this.h()},l(g){e=v(g,"H1",{class:!0});var G=E(e);n=C(G,"TXT -> IMG"),G.forEach(h),l=A(g),t=v(g,"FORM",{class:!0});var O=E(t);r=v(O,"DIV",{class:!0});var Q=E(r);S(i.$$.fragment,Q),u=A(Q),S(a.$$.fragment,Q),Q.forEach(h),f=A(O),S(o.$$.fragment,O),m=A(O),d=v(O,"DETAILS",{});var Z=E(d);I=v(Z,"SUMMARY",{});var ae=E(I);M=C(ae,"Продвинутые опции"),ae.forEach(h),R=A(Z),P=v(Z,"DIV",{class:!0});var L=E(P);S(y.$$.fragment,L),J=A(L),S(_.$$.fragment,L),$=A(L),S(U.$$.fragment,L),x=A(L),S(W.$$.fragment,L),L.forEach(h),Z.forEach(h),O.forEach(h),this.h()},h(){c(e,"class","text-center text-3xl"),c(r,"class","grid grid-cols-2 gap-2 mt-4"),c(P,"class","grid gap-4"),c(t,"class","grid gap-4")},m(g,G){T(g,e,G),b(e,n),T(g,l,G),T(g,t,G),b(t,r),D(i,r,null),b(r,u),D(a,r,null),b(t,f),D(o,t,null),b(t,m),b(t,d),b(d,I),b(I,M),b(d,R),b(d,P),D(y,P,null),b(P,J),D(_,P,null),b(P,$),D(U,P,null),b(P,x),D(W,P,null),s[5](t),Y=!0,ee||(ne=[V(t,"submit",ke(s[4])),V(t,"input",s[3])],ee=!0)},p:Ee,i(g){Y||(w(i.$$.fragment,g),w(a.$$.fragment,g),w(o.$$.fragment,g),w(y.$$.fragment,g),w(_.$$.fragment,g),w(U.$$.fragment,g),w(W.$$.fragment,g),Y=!0)},o(g){k(i.$$.fragment,g),k(a.$$.fragment,g),k(o.$$.fragment,g),k(y.$$.fragment,g),k(_.$$.fragment,g),k(U.$$.fragment,g),k(W.$$.fragment,g),Y=!1},d(g){g&&h(e),g&&h(l),g&&h(t),F(i),F(a),F(o),F(y),F(_),F(U),F(W),s[5](null),ee=!1,ve(ne)}}}function Ge(s,e,n){const l=[{label:"Euler 𝛼",value:"euler_a"},{label:"Heun",value:"heun"},{label:"DPM++ M2",value:"dpmpp_m2"},{label:"DDIM",value:"ddim"}],t=[{label:"Квадрат [512x512]",value:"square"},{label:"Портрет [512x768]",value:"portrait"},{label:"Пейзаж [768x512]",value:"landscape"}],r={square:{x:512,y:512},portrait:{x:512,y:768},landscape:{x:768,y:512}};let i;function u(){i.checkValidity()&&window.Telegram.WebApp.MainButton.setParams({color:window.Telegram.WebApp.themeParams.button_color}).enable()}function a(){window.Telegram.WebApp.MainButton.showProgress();const m={};new FormData(i).forEach((I,M)=>{m[M]=I}),m.dimensions=typeof m.dimensions=="string"&&m.dimensions in r?r[m.dimensions]:m.dimensions,window.Telegram.WebApp.sendData(JSON.stringify(m))}Te(()=>{window.Telegram.WebApp.MainButton.setText("Сгенерировать").onClick(()=>a()).disable().setParams({color:window.Telegram.WebApp.themeParams.hint_color}).show()});function f(m){qe.call(this,s,m)}function o(m){Ae[m?"unshift":"push"](()=>{i=m,n(0,i)})}return[i,l,t,u,f,o]}class He extends j{constructor(e){super(),z(this,e,Ge,We,K,{})}}export{He as default};
