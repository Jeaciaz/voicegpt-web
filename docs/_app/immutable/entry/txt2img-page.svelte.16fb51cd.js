import{_ as Ee}from"../chunks/preload-helper.41c905a7.js";import{S as z,i as K,s as Y,e as j,b as V,v as _e,d as k,f as he,g as E,h as _,C as be,D as ge,E as pe,F as ve,k as p,q as U,a as P,l as v,m as T,r as W,c as q,n as d,G as b,u as X,y as I,z as N,A as S,B as F,L as O,J as ke,M as re,N as we,O as Te,H as Ve,o as Pe,P as qe,w as Ae}from"../chunks/index.261427c6.js";import{b as De}from"../chunks/paths.61228db3.js";function Me(u){let e;const t=u[3].default,l=be(t,u,u[2],null);return{c(){l&&l.c()},l(a){l&&l.l(a)},m(a,n){l&&l.m(a,n),e=!0},p(a,n){l&&l.p&&(!e||n&4)&&ge(l,t,a,a[2],e?ve(t,a[2],n,null):pe(a[2]),null)},i(a){e||(E(l,a),e=!0)},o(a){k(l,a),e=!1},d(a){l&&l.d(a)}}}function Ie(u){let e,t,l,a,n,s,i=u[1]&&se();const r=u[3].default,f=be(r,u,u[2],null);return{c(){e=p("label"),t=p("span"),l=U(u[0]),a=P(),i&&i.c(),n=P(),f&&f.c(),this.h()},l(m){e=v(m,"LABEL",{class:!0});var c=T(e);t=v(c,"SPAN",{class:!0});var o=T(t);l=W(o,u[0]),a=q(o),i&&i.l(o),o.forEach(_),n=q(c),f&&f.l(c),c.forEach(_),this.h()},h(){d(t,"class","text-sm text-[var(--theme-hint-color)] pl-1.5"),d(e,"class","flex flex-col")},m(m,c){V(m,e,c),b(e,t),b(t,l),b(t,a),i&&i.m(t,null),b(e,n),f&&f.m(e,null),s=!0},p(m,c){(!s||c&1)&&X(l,m[0]),m[1]?i||(i=se(),i.c(),i.m(t,null)):i&&(i.d(1),i=null),f&&f.p&&(!s||c&4)&&ge(f,r,m,m[2],s?ve(r,m[2],c,null):pe(m[2]),null)},i(m){s||(E(f,m),s=!0)},o(m){k(f,m),s=!1},d(m){m&&_(e),i&&i.d(),f&&f.d(m)}}}function se(u){let e,t;return{c(){e=p("span"),t=U("*"),this.h()},l(l){e=v(l,"SPAN",{class:!0});var a=T(e);t=W(a,"*"),a.forEach(_),this.h()},h(){d(e,"class","text-sm text-red-500")},m(l,a){V(l,e,a),b(e,t)},d(l){l&&_(e)}}}function Ne(u){let e,t,l,a;const n=[Ie,Me],s=[];function i(r,f){return r[0]!==void 0?0:1}return e=i(u),t=s[e]=n[e](u),{c(){t.c(),l=j()},l(r){t.l(r),l=j()},m(r,f){s[e].m(r,f),V(r,l,f),a=!0},p(r,[f]){let m=e;e=i(r),e===m?s[e].p(r,f):(_e(),k(s[m],1,1,()=>{s[m]=null}),he(),t=s[e],t?t.p(r,f):(t=s[e]=n[e](r),t.c()),E(t,1),t.m(l.parentNode,l))},i(r){a||(E(t),a=!0)},o(r){k(t),a=!1},d(r){s[e].d(r),r&&_(l)}}}function Se(u,e,t){let{$$slots:l={},$$scope:a}=e,{label:n=void 0}=e,{required:s=!1}=e;return u.$$set=i=>{"label"in i&&t(0,n=i.label),"required"in i&&t(1,s=i.required),"$$scope"in i&&t(2,a=i.$$scope)},[n,s,a,l]}class ae extends z{constructor(e){super(),K(this,e,Se,Ne,Y,{label:0,required:1})}}function Fe(u){let e,t,l,a,n,s,i,r,f,m;return{c(){e=p("div"),t=p("span"),l=U(u[2]),a=P(),n=p("input"),s=P(),i=p("span"),r=U(u[1]),this.h()},l(c){e=v(c,"DIV",{class:!0});var o=T(e);t=v(o,"SPAN",{});var A=T(t);l=W(A,u[2]),A.forEach(_),a=q(o),n=v(o,"INPUT",{class:!0,type:!0,max:!0,min:!0,step:!0,name:!0}),s=q(o),i=v(o,"SPAN",{});var D=T(i);r=W(D,u[1]),D.forEach(_),o.forEach(_),this.h()},h(){d(n,"class","mx-1 flex-1 accent-[var(--theme-button-color)]"),d(n,"type","range"),n.value=u[0],d(n,"max",u[1]),d(n,"min",u[2]),d(n,"step",u[3]),d(n,"name",u[4]),d(e,"class","flex text-sm")},m(c,o){V(c,e,o),b(e,t),b(t,l),b(e,a),b(e,n),b(e,s),b(e,i),b(i,r),f||(m=O(n,"input",u[8]),f=!0)},p(c,o){o&4&&X(l,c[2]),o&1&&(n.value=c[0]),o&2&&d(n,"max",c[1]),o&4&&d(n,"min",c[2]),o&8&&d(n,"step",c[3]),o&16&&d(n,"name",c[4]),o&2&&X(r,c[1])},d(c){c&&_(e),f=!1,m()}}}function Le(u){let e,t;return e=new ae({props:{label:u[5]+": "+u[0],$$slots:{default:[Fe]},$$scope:{ctx:u}}}),{c(){I(e.$$.fragment)},l(l){N(e.$$.fragment,l)},m(l,a){S(e,l,a),t=!0},p(l,[a]){const n={};a&33&&(n.label=l[5]+": "+l[0]),a&543&&(n.$$scope={dirty:a,ctx:l}),e.$set(n)},i(l){t||(E(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Be(u,e,t){let{max:l}=e,{min:a}=e,{step:n=1}=e,{defaultValue:s=(l+a)/2}=e,{value:i=s}=e,{name:r=void 0}=e,{label:f=void 0}=e;function m(o){t(0,i=+o)}const c=o=>m(o.currentTarget.value);return u.$$set=o=>{"max"in o&&t(1,l=o.max),"min"in o&&t(2,a=o.min),"step"in o&&t(3,n=o.step),"defaultValue"in o&&t(7,s=o.defaultValue),"value"in o&&t(0,i=o.value),"name"in o&&t(4,r=o.name),"label"in o&&t(5,f=o.label)},[i,l,a,n,r,f,m,s,c]}class ie extends z{constructor(e){super(),K(this,e,Be,Le,Y,{max:1,min:2,step:3,defaultValue:7,value:0,name:4,label:5})}}function fe(u,e,t){const l=u.slice();return l[3]=e[t].label,l[6]=e[t].value,l}function oe(u){let e,t;return e=new ae({props:{label:u[3],$$slots:{default:[Ce]},$$scope:{ctx:u}}}),{c(){I(e.$$.fragment)},l(l){N(e.$$.fragment,l)},m(l,a){S(e,l,a),t=!0},p(l,a){const n={};a&8&&(n.label=l[3]),a&519&&(n.$$scope={dirty:a,ctx:l}),e.$set(n)},i(l){t||(E(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function me(u){let e,t,l=u[3]+"",a,n,s,i;function r(){return u[5](u[6])}return{c(){e=p("li"),t=p("button"),a=U(l),n=P(),this.h()},l(f){e=v(f,"LI",{class:!0});var m=T(e);t=v(m,"BUTTON",{type:!0,class:!0});var c=T(t);a=W(c,l),c.forEach(_),n=q(m),m.forEach(_),this.h()},h(){d(t,"type","button"),d(t,"class","item cursor-pointer svelte-fv5mem"),re(t,"selected",u[0]===u[6]),d(e,"class","[&:not(:last-child)]:mr-4")},m(f,m){V(f,e,m),b(e,t),b(t,a),b(e,n),s||(i=O(t,"click",r),s=!0)},p(f,m){u=f,m&4&&l!==(l=u[3]+"")&&X(a,l),m&5&&re(t,"selected",u[0]===u[6])},d(f){f&&_(e),s=!1,i()}}}function Ce(u){let e,t,l,a=u[2],n=[];for(let s=0;s<a.length;s+=1)n[s]=me(fe(u,a,s));return{c(){e=p("ul");for(let s=0;s<n.length;s+=1)n[s].c();t=P(),l=p("input"),this.h()},l(s){e=v(s,"UL",{class:!0});var i=T(e);for(let r=0;r<n.length;r+=1)n[r].l(i);i.forEach(_),t=q(s),l=v(s,"INPUT",{type:!0,name:!0}),this.h()},h(){d(e,"class","flex flex-nowrap list-none overflow-auto max-w-full pt-1"),d(l,"type","hidden"),d(l,"name",u[1]),l.value=u[0]},m(s,i){V(s,e,i);for(let r=0;r<n.length;r+=1)n[r]&&n[r].m(e,null);V(s,t,i),V(s,l,i)},p(s,i){if(i&5){a=s[2];let r;for(r=0;r<a.length;r+=1){const f=fe(s,a,r);n[r]?n[r].p(f,i):(n[r]=me(f),n[r].c(),n[r].m(e,null))}for(;r<n.length;r+=1)n[r].d(1);n.length=a.length}i&2&&d(l,"name",s[1]),i&1&&(l.value=s[0])},d(s){s&&_(e),ke(n,s),s&&_(t),s&&_(l)}}}function Oe(u){let e,t,l=u[2].length>0&&oe(u);return{c(){l&&l.c(),e=j()},l(a){l&&l.l(a),e=j()},m(a,n){l&&l.m(a,n),V(a,e,n),t=!0},p(a,[n]){a[2].length>0?l?(l.p(a,n),n&4&&E(l,1)):(l=oe(a),l.c(),E(l,1),l.m(e.parentNode,e)):l&&(_e(),k(l,1,1,()=>{l=null}),he())},i(a){t||(E(l),t=!0)},o(a){k(l),t=!1},d(a){l&&l.d(a),a&&_(e)}}}function Ue(u,e,t){let{name:l=void 0}=e,{options:a=[]}=e,{label:n=void 0}=e,{defaultValue:s=a[0].value}=e,{value:i=s}=e;const r=f=>t(0,i=f);return u.$$set=f=>{"name"in f&&t(1,l=f.name),"options"in f&&t(2,a=f.options),"label"in f&&t(3,n=f.label),"defaultValue"in f&&t(4,s=f.defaultValue),"value"in f&&t(0,i=f.value)},[i,l,a,n,s,r]}class ce extends z{constructor(e){super(),K(this,e,Ue,Oe,Y,{name:1,options:2,label:3,defaultValue:4,value:0})}}function de(u){let e,t=u[7].message+"",l;return{c(){e=p("span"),l=U(t),this.h()},l(a){e=v(a,"SPAN",{class:!0});var n=T(e);l=W(n,t),n.forEach(_),this.h()},h(){d(e,"class","text-xs text-red-500")},m(a,n){V(a,e,n),b(e,l)},p(a,n){n&128&&t!==(t=a[7].message+"")&&X(l,t)},d(a){a&&_(e)}}}function We(u){let e,t,l,a,n,s,i=u[8]&&u[7]!==void 0&&de(u);return{c(){e=p("input"),l=P(),i&&i.c(),a=j(),this.h()},l(r){e=v(r,"INPUT",{type:!0,name:!0,placeholder:!0,class:!0,"aria-label":!0}),l=q(r),i&&i.l(r),a=j(),this.h()},h(){d(e,"type",u[6]),d(e,"name",u[4]),d(e,"placeholder",u[2]),e.disabled=u[3],e.required=u[5],e.value=u[0],d(e,"class",t="border border-[var(--theme-hint-color)] rounded-md p-1 focus-visible:border-[var(--theme-text-color)] outline-0 "+(u[8]?"invalid:border-red-500":"")+" "+(u[8]&&u[7]!==void 0?"border-red-500":"")),d(e,"aria-label",u[1])},m(r,f){V(r,e,f),V(r,l,f),i&&i.m(r,f),V(r,a,f),n||(s=[O(e,"input",u[10]),O(e,"change",u[13]),O(e,"focus",u[14]),O(e,"blur",u[15])],n=!0)},p(r,f){f&64&&d(e,"type",r[6]),f&16&&d(e,"name",r[4]),f&4&&d(e,"placeholder",r[2]),f&8&&(e.disabled=r[3]),f&32&&(e.required=r[5]),f&1&&e.value!==r[0]&&(e.value=r[0]),f&384&&t!==(t="border border-[var(--theme-hint-color)] rounded-md p-1 focus-visible:border-[var(--theme-text-color)] outline-0 "+(r[8]?"invalid:border-red-500":"")+" "+(r[8]&&r[7]!==void 0?"border-red-500":""))&&d(e,"class",t),f&2&&d(e,"aria-label",r[1]),r[8]&&r[7]!==void 0?i?i.p(r,f):(i=de(r),i.c(),i.m(a.parentNode,a)):i&&(i.d(1),i=null)},d(r){r&&_(e),r&&_(l),i&&i.d(r),r&&_(a),n=!1,we(s)}}}function ye(u){let e,t;return e=new ae({props:{label:u[1],required:u[5],$$slots:{default:[We]},$$scope:{ctx:u}}}),{c(){I(e.$$.fragment)},l(l){N(e.$$.fragment,l)},m(l,a){S(e,l,a),t=!0},p(l,[a]){const n={};a&2&&(n.label=l[1]),a&32&&(n.required=l[5]),a&131583&&(n.$$scope={dirty:a,ctx:l}),e.$set(n)},i(l){t||(E(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){F(e,l)}}}function Ge(u,e,t){let{label:l=void 0}=e,{defaultValue:a=""}=e,{value:n=a}=e,{placeholder:s=void 0}=e,{disabled:i=!1}=e,{name:r=void 0}=e,{required:f=!1}=e,{validate:m=void 0}=e,{type:c="text"}=e,o,A=!1;function D(h){return c.match(/^number|range$/)?+h:h}function M(h){t(7,o=m==null?void 0:m(D(h)))}function w(h){t(0,n=D(h.currentTarget.value))}const L=h=>M(h.currentTarget.value),J=()=>t(8,A=!1),B=()=>t(8,A=!0);return u.$$set=h=>{"label"in h&&t(1,l=h.label),"defaultValue"in h&&t(11,a=h.defaultValue),"value"in h&&t(0,n=h.value),"placeholder"in h&&t(2,s=h.placeholder),"disabled"in h&&t(3,i=h.disabled),"name"in h&&t(4,r=h.name),"required"in h&&t(5,f=h.required),"validate"in h&&t(12,m=h.validate),"type"in h&&t(6,c=h.type)},[n,l,s,i,r,f,c,o,A,M,w,a,m,L,J,B]}class le extends z{constructor(e){super(),K(this,e,Ge,ye,Y,{label:1,defaultValue:11,value:0,placeholder:2,disabled:3,name:4,required:5,validate:12,type:6})}}function He(u){let e,t,l,a,n,s,i,r,f,m,c,o,A,D,M,w,L,J,B,h,y,$,G,Q,ee,ne;return s=new le({props:{name:"prompt",label:"Запрос",placeholder:"elden ring, epic",required:!0}}),r=new le({props:{name:"negative_prompt",label:"Антизапрос",placeholder:"realism"}}),m=new ce({props:{name:"dimensions",options:u[2],label:"Размер изображения: "}}),L=new ce({props:{name:"sampler_method",options:u[1],label:"Метод семплера"}}),B=new ie({props:{name:"sampler_steps",min:20,max:40,label:"Шаги семплера",defaultValue:20}}),y=new le({props:{name:"seed",label:"Seed",placeholder:"1234567890",type:"number"}}),G=new ie({props:{name:"cfg_scale",min:1,max:25,label:"CFG Scale",step:.5,defaultValue:7.5}}),{c(){e=p("h1"),t=U("TXT -> IMG"),l=P(),a=p("form"),n=p("div"),I(s.$$.fragment),i=P(),I(r.$$.fragment),f=P(),I(m.$$.fragment),c=P(),o=p("details"),A=p("summary"),D=U("Продвинутые опции"),M=P(),w=p("div"),I(L.$$.fragment),J=P(),I(B.$$.fragment),h=P(),I(y.$$.fragment),$=P(),I(G.$$.fragment),this.h()},l(g){e=v(g,"H1",{class:!0});var H=T(e);t=W(H,"TXT -> IMG"),H.forEach(_),l=q(g),a=v(g,"FORM",{class:!0});var R=T(a);n=v(R,"DIV",{class:!0});var Z=T(n);N(s.$$.fragment,Z),i=q(Z),N(r.$$.fragment,Z),Z.forEach(_),f=q(R),N(m.$$.fragment,R),c=q(R),o=v(R,"DETAILS",{});var x=T(o);A=v(x,"SUMMARY",{});var ue=T(A);D=W(ue,"Продвинутые опции"),ue.forEach(_),M=q(x),w=v(x,"DIV",{class:!0});var C=T(w);N(L.$$.fragment,C),J=q(C),N(B.$$.fragment,C),h=q(C),N(y.$$.fragment,C),$=q(C),N(G.$$.fragment,C),C.forEach(_),x.forEach(_),R.forEach(_),this.h()},h(){d(e,"class","text-center text-3xl"),d(n,"class","grid grid-cols-2 gap-2 mt-4"),d(w,"class","grid gap-4"),d(a,"class","grid gap-4 p-4")},m(g,H){V(g,e,H),b(e,t),V(g,l,H),V(g,a,H),b(a,n),S(s,n,null),b(n,i),S(r,n,null),b(a,f),S(m,a,null),b(a,c),b(a,o),b(o,A),b(A,D),b(o,M),b(o,w),S(L,w,null),b(w,J),S(B,w,null),b(w,h),S(y,w,null),b(w,$),S(G,w,null),u[5](a),Q=!0,ee||(ne=[O(a,"submit",Te(u[4])),O(a,"input",u[3])],ee=!0)},p:Ve,i(g){Q||(E(s.$$.fragment,g),E(r.$$.fragment,g),E(m.$$.fragment,g),E(L.$$.fragment,g),E(B.$$.fragment,g),E(y.$$.fragment,g),E(G.$$.fragment,g),Q=!0)},o(g){k(s.$$.fragment,g),k(r.$$.fragment,g),k(m.$$.fragment,g),k(L.$$.fragment,g),k(B.$$.fragment,g),k(y.$$.fragment,g),k(G.$$.fragment,g),Q=!1},d(g){g&&_(e),g&&_(l),g&&_(a),F(s),F(r),F(m),F(L),F(B),F(y),F(G),u[5](null),ee=!1,we(ne)}}}const te="dimensions";function Re(u,e,t){const l=[{label:"Euler 𝛼",value:"Euler a"},{label:"Heun",value:"Heun"},{label:"DPM++ M2",value:"DPM++ 2M"},{label:"DDIM",value:"DDIM"}],a=[{label:"Квадрат [512x512]",value:"square"},{label:"Портрет [512x768]",value:"portrait"},{label:"Пейзаж [768x512]",value:"landscape"}],n={square:{width:512,height:512},portrait:{width:512,height:768},landscape:{width:768,height:512}};let s;function i(o){return o in n?n[o]:{}}function r(){s.checkValidity()&&window.Telegram.WebApp.MainButton.setParams({color:window.Telegram.WebApp.themeParams.button_color}).enable()}function f(){window.Telegram.WebApp.MainButton.showProgress();const o={},A=new FormData(s),D=["cfg_scale","sampler_steps"];A.forEach((M,w)=>{M&&(o[w]=D.includes(w)?+M:M)}),typeof o[te]=="string"&&(Object.assign(o,i(o[te])),delete o[te]),window.Telegram.WebApp.sendData(JSON.stringify(o))}Pe(async()=>{await Ee(()=>import(`${De}/telegram-web-app.js`),[],import.meta.url),window.Telegram.WebApp.MainButton.setText("Сгенерировать").onClick(()=>f()).disable().setParams({color:window.Telegram.WebApp.themeParams.hint_color}).show()});function m(o){qe.call(this,u,o)}function c(o){Ae[o?"unshift":"push"](()=>{s=o,t(0,s)})}return[s,l,a,r,m,c]}class ze extends z{constructor(e){super(),K(this,e,Re,He,Y,{})}}export{ze as default};
