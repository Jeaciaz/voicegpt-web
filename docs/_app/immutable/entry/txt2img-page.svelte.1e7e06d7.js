import{S as X,i as j,s as J,C as le,k,l as $,m as A,h as b,n as d,b as q,J as O,D as te,E as ne,F as ae,g as p,d as E,K as ve,e as Z,v as he,f as ge,q as z,a as N,r as G,c as D,G as g,u as Y,y as I,z as P,A as S,B as F,L as Ee,M as we,w as ke,N as $e,O as qe,P as Te,o as Ne,H as De}from"../chunks/index.13b8afdf.js";import"../chunks/utils.d2eec17c.js";import{j as B}from"../chunks/singletons.9678a4df.js";B.disable_scroll_handling;B.goto;B.invalidate;B.invalidateAll;B.preload_data;B.preload_code;B.before_navigate;B.after_navigate;B.apply_action;function Ae(r){let e,l,n,t;const a=r[2].default,s=le(a,r,r[1],null);return{c(){e=k("button"),s&&s.c(),this.h()},l(i){e=$(i,"BUTTON",{class:!0,type:!0});var u=A(e);s&&s.l(u),u.forEach(b),this.h()},h(){d(e,"class","px-2 py-1 bg-teal-500 text-white rounded-md hover:bg-teal-600 active:bg-teal-700"),d(e,"type",r[0])},m(i,u){q(i,e,u),s&&s.m(e,null),l=!0,n||(t=O(e,"click",r[3]),n=!0)},p(i,[u]){s&&s.p&&(!l||u&2)&&te(s,a,i,i[1],l?ae(a,i[1],u,null):ne(i[1]),null),(!l||u&1)&&d(e,"type",i[0])},i(i){l||(p(s,i),l=!0)},o(i){E(s,i),l=!1},d(i){i&&b(e),s&&s.d(i),n=!1,t()}}}function Ie(r,e,l){let{$$slots:n={},$$scope:t}=e,{type:a="button"}=e;function s(i){ve.call(this,r,i)}return r.$$set=i=>{"type"in i&&l(0,a=i.type),"$$scope"in i&&l(1,t=i.$$scope)},[a,t,n,s]}class Pe extends X{constructor(e){super(),j(this,e,Ie,Ae,J,{type:0})}}function Se(r){let e;const l=r[3].default,n=le(l,r,r[2],null);return{c(){n&&n.c()},l(t){n&&n.l(t)},m(t,a){n&&n.m(t,a),e=!0},p(t,a){n&&n.p&&(!e||a&4)&&te(n,l,t,t[2],e?ae(l,t[2],a,null):ne(t[2]),null)},i(t){e||(p(n,t),e=!0)},o(t){E(n,t),e=!1},d(t){n&&n.d(t)}}}function Fe(r){let e,l,n,t,a,s,i=r[1]&&ie();const u=r[3].default,f=le(u,r,r[2],null);return{c(){e=k("label"),l=k("span"),n=z(r[0]),t=N(),i&&i.c(),a=N(),f&&f.c(),this.h()},l(o){e=$(o,"LABEL",{class:!0});var _=A(e);l=$(_,"SPAN",{class:!0});var c=A(l);n=G(c,r[0]),t=D(c),i&&i.l(c),c.forEach(b),a=D(_),f&&f.l(_),_.forEach(b),this.h()},h(){d(l,"class","text-sm text-slate-600 pl-1.5"),d(e,"class","flex flex-col")},m(o,_){q(o,e,_),g(e,l),g(l,n),g(l,t),i&&i.m(l,null),g(e,a),f&&f.m(e,null),s=!0},p(o,_){(!s||_&1)&&Y(n,o[0]),o[1]?i||(i=ie(),i.c(),i.m(l,null)):i&&(i.d(1),i=null),f&&f.p&&(!s||_&4)&&te(f,u,o,o[2],s?ae(u,o[2],_,null):ne(o[2]),null)},i(o){s||(p(f,o),s=!0)},o(o){E(f,o),s=!1},d(o){o&&b(e),i&&i.d(),f&&f.d(o)}}}function ie(r){let e,l;return{c(){e=k("span"),l=z("*"),this.h()},l(n){e=$(n,"SPAN",{class:!0});var t=A(e);l=G(t,"*"),t.forEach(b),this.h()},h(){d(e,"class","text-sm text-red-500")},m(n,t){q(n,e,t),g(e,l)},d(n){n&&b(e)}}}function Me(r){let e,l,n,t;const a=[Fe,Se],s=[];function i(u,f){return u[0]!==void 0?0:1}return e=i(r),l=s[e]=a[e](r),{c(){l.c(),n=Z()},l(u){l.l(u),n=Z()},m(u,f){s[e].m(u,f),q(u,n,f),t=!0},p(u,[f]){let o=e;e=i(u),e===o?s[e].p(u,f):(he(),E(s[o],1,1,()=>{s[o]=null}),ge(),l=s[e],l?l.p(u,f):(l=s[e]=a[e](u),l.c()),p(l,1),l.m(n.parentNode,n))},i(u){t||(p(l),t=!0)},o(u){E(l),t=!1},d(u){s[e].d(u),u&&b(n)}}}function Le(r,e,l){let{$$slots:n={},$$scope:t}=e,{label:a=void 0}=e,{required:s=!1}=e;return r.$$set=i=>{"label"in i&&l(0,a=i.label),"required"in i&&l(1,s=i.required),"$$scope"in i&&l(2,t=i.$$scope)},[a,s,t,n]}class ue extends X{constructor(e){super(),j(this,e,Le,Me,J,{label:0,required:1})}}function Ve(r){let e,l,n,t,a,s,i,u,f,o;return{c(){e=k("div"),l=k("span"),n=z(r[2]),t=N(),a=k("input"),s=N(),i=k("span"),u=z(r[1]),this.h()},l(_){e=$(_,"DIV",{class:!0});var c=A(e);l=$(c,"SPAN",{});var L=A(l);n=G(L,r[2]),L.forEach(b),t=D(c),a=$(c,"INPUT",{class:!0,type:!0,max:!0,min:!0,name:!0}),s=D(c),i=$(c,"SPAN",{});var T=A(i);u=G(T,r[1]),T.forEach(b),c.forEach(b),this.h()},h(){d(a,"class","mx-1 flex-1 accent-teal-500"),d(a,"type","range"),a.value=r[0],d(a,"max",r[1]),d(a,"min",r[2]),d(a,"name",r[3]),d(e,"class","flex text-sm")},m(_,c){q(_,e,c),g(e,l),g(l,n),g(e,t),g(e,a),g(e,s),g(e,i),g(i,u),f||(o=O(a,"input",r[6]),f=!0)},p(_,c){c&4&&Y(n,_[2]),c&1&&(a.value=_[0]),c&2&&d(a,"max",_[1]),c&4&&d(a,"min",_[2]),c&8&&d(a,"name",_[3]),c&2&&Y(u,_[1])},d(_){_&&b(e),f=!1,o()}}}function Be(r){let e,l;return e=new ue({props:{label:r[4]+": "+r[0],$$slots:{default:[Ve]},$$scope:{ctx:r}}}),{c(){I(e.$$.fragment)},l(n){P(e.$$.fragment,n)},m(n,t){S(e,n,t),l=!0},p(n,[t]){const a={};t&17&&(a.label=n[4]+": "+n[0]),t&143&&(a.$$scope={dirty:t,ctx:n}),e.$set(a)},i(n){l||(p(e.$$.fragment,n),l=!0)},o(n){E(e.$$.fragment,n),l=!1},d(n){F(e,n)}}}function Ce(r,e,l){let{max:n}=e,{min:t}=e,{value:a=(n+t)/2}=e,{name:s=void 0}=e,{label:i=void 0}=e;function u(o){l(0,a=+o)}const f=o=>u(o.currentTarget.value);return r.$$set=o=>{"max"in o&&l(1,n=o.max),"min"in o&&l(2,t=o.min),"value"in o&&l(0,a=o.value),"name"in o&&l(3,s=o.name),"label"in o&&l(4,i=o.label)},[a,n,t,s,i,u,f]}class fe extends X{constructor(e){super(),j(this,e,Ce,Be,J,{max:1,min:2,value:0,name:3,label:4})}}function oe(r,e,l){const n=r.slice();return n[3]=e[l].label,n[0]=e[l].value,n}function me(r){let e,l=r[3]+"",n,t;return{c(){e=k("option"),n=z(l),this.h()},l(a){e=$(a,"OPTION",{});var s=A(e);n=G(s,l),s.forEach(b),this.h()},h(){e.__value=t=r[0],e.value=e.__value},m(a,s){q(a,e,s),g(e,n)},p(a,s){s&4&&l!==(l=a[3]+"")&&Y(n,l),s&4&&t!==(t=a[0])&&(e.__value=t,e.value=e.__value)},d(a){a&&b(e)}}}function Oe(r){let e,l,n,t=r[2],a=[];for(let s=0;s<t.length;s+=1)a[s]=me(oe(r,t,s));return{c(){e=k("select");for(let s=0;s<a.length;s+=1)a[s].c();this.h()},l(s){e=$(s,"SELECT",{name:!0,"aria-label":!0,class:!0});var i=A(e);for(let u=0;u<a.length;u+=1)a[u].l(i);i.forEach(b),this.h()},h(){d(e,"name",r[1]),d(e,"aria-label",r[3]),d(e,"class","block border border-slate-400 hover:border-slate-500 rounded-md p-1.5")},m(s,i){q(s,e,i);for(let u=0;u<a.length;u+=1)a[u]&&a[u].m(e,null);l||(n=O(e,"change",r[4]),l=!0)},p(s,i){if(i&4){t=s[2];let u;for(u=0;u<t.length;u+=1){const f=oe(s,t,u);a[u]?a[u].p(f,i):(a[u]=me(f),a[u].c(),a[u].m(e,null))}for(;u<a.length;u+=1)a[u].d(1);a.length=t.length}i&2&&d(e,"name",s[1]),i&8&&d(e,"aria-label",s[3])},d(s){s&&b(e),Ee(a,s),l=!1,n()}}}function ze(r){let e,l;return e=new ue({props:{label:r[3],$$slots:{default:[Oe]},$$scope:{ctx:r}}}),{c(){I(e.$$.fragment)},l(n){P(e.$$.fragment,n)},m(n,t){S(e,n,t),l=!0},p(n,[t]){const a={};t&8&&(a.label=n[3]),t&143&&(a.$$scope={dirty:t,ctx:n}),e.$set(a)},i(n){l||(p(e.$$.fragment,n),l=!0)},o(n){E(e.$$.fragment,n),l=!1},d(n){F(e,n)}}}function Ge(r,e,l){let{name:n=void 0}=e,{options:t=[]}=e,{label:a=void 0}=e,{value:s=void 0}=e;const i=u=>l(0,s=u.currentTarget.value);return r.$$set=u=>{"name"in u&&l(1,n=u.name),"options"in u&&l(2,t=u.options),"label"in u&&l(3,a=u.label),"value"in u&&l(0,s=u.value)},[s,n,t,a,i]}class de extends X{constructor(e){super(),j(this,e,Ge,ze,J,{name:1,options:2,label:3,value:0})}}function ce(r){let e,l=r[7].message+"",n;return{c(){e=k("span"),n=z(l),this.h()},l(t){e=$(t,"SPAN",{class:!0});var a=A(e);n=G(a,l),a.forEach(b),this.h()},h(){d(e,"class","text-xs text-red-500")},m(t,a){q(t,e,a),g(e,n)},p(t,a){a&128&&l!==(l=t[7].message+"")&&Y(n,l)},d(t){t&&b(e)}}}function ye(r){let e,l,n,t,a,s,i=r[8]&&r[7]!==void 0&&ce(r);return{c(){e=k("input"),n=N(),i&&i.c(),t=Z(),this.h()},l(u){e=$(u,"INPUT",{type:!0,name:!0,placeholder:!0,class:!0,"aria-label":!0}),n=D(u),i&&i.l(u),t=Z(),this.h()},h(){d(e,"type",r[6]),d(e,"name",r[4]),d(e,"placeholder",r[2]),e.disabled=r[3],e.required=r[5],e.value=r[0],d(e,"class",l="border border-slate-400 rounded-md p-1 hover:border-slate-500 focus:border-teal-500 "+(r[8]?"invalid:border-red-500":"")+" "+(r[8]&&r[7]!==void 0?"border-red-500":"")),d(e,"aria-label",r[1])},m(u,f){q(u,e,f),q(u,n,f),i&&i.m(u,f),q(u,t,f),a||(s=[O(e,"input",r[10]),O(e,"change",r[12]),O(e,"focus",r[13]),O(e,"blur",r[14])],a=!0)},p(u,f){f&64&&d(e,"type",u[6]),f&16&&d(e,"name",u[4]),f&4&&d(e,"placeholder",u[2]),f&8&&(e.disabled=u[3]),f&32&&(e.required=u[5]),f&1&&e.value!==u[0]&&(e.value=u[0]),f&384&&l!==(l="border border-slate-400 rounded-md p-1 hover:border-slate-500 focus:border-teal-500 "+(u[8]?"invalid:border-red-500":"")+" "+(u[8]&&u[7]!==void 0?"border-red-500":""))&&d(e,"class",l),f&2&&d(e,"aria-label",u[1]),u[8]&&u[7]!==void 0?i?i.p(u,f):(i=ce(u),i.c(),i.m(t.parentNode,t)):i&&(i.d(1),i=null)},d(u){u&&b(e),u&&b(n),i&&i.d(u),u&&b(t),a=!1,we(s)}}}function He(r){let e,l;return e=new ue({props:{label:r[1],required:r[5],$$slots:{default:[ye]},$$scope:{ctx:r}}}),{c(){I(e.$$.fragment)},l(n){P(e.$$.fragment,n)},m(n,t){S(e,n,t),l=!0},p(n,[t]){const a={};t&2&&(a.label=n[1]),t&32&&(a.required=n[5]),t&66047&&(a.$$scope={dirty:t,ctx:n}),e.$set(a)},i(n){l||(p(e.$$.fragment,n),l=!0)},o(n){E(e.$$.fragment,n),l=!1},d(n){F(e,n)}}}function Ue(r,e,l){let{label:n=void 0}=e,{value:t=""}=e,{placeholder:a=void 0}=e,{disabled:s=!1}=e,{name:i=void 0}=e,{required:u=!1}=e,{validate:f=void 0}=e,{type:o="text"}=e,_,c=!1;function L(h){return o.match(/^number|range$/)?+h:h}function T(h){l(7,_=f==null?void 0:f(L(h)))}function R(h){l(0,t=L(h.currentTarget.value))}const K=h=>T(h.currentTarget.value),U=()=>l(8,c=!1),V=()=>l(8,c=!0);return r.$$set=h=>{"label"in h&&l(1,n=h.label),"value"in h&&l(0,t=h.value),"placeholder"in h&&l(2,a=h.placeholder),"disabled"in h&&l(3,s=h.disabled),"name"in h&&l(4,i=h.name),"required"in h&&l(5,u=h.required),"validate"in h&&l(11,f=h.validate),"type"in h&&l(6,o=h.type)},[t,n,a,s,i,u,o,_,c,T,R,f,K,U,V]}class W extends X{constructor(e){super(),j(this,e,Ue,He,J,{label:1,value:0,placeholder:2,disabled:3,name:4,required:5,validate:11,type:6})}}function _e(r){let e,l,n,t,a;return l=new W({props:{name:"dim-x",label:"X",placeholder:"512",required:!0,type:"number",validate:be}}),t=new W({props:{name:"dim-y",label:"Y",placeholder:"512",required:!0,type:"number",validate:be}}),{c(){e=k("div"),I(l.$$.fragment),n=N(),I(t.$$.fragment),this.h()},l(s){e=$(s,"DIV",{class:!0});var i=A(e);P(l.$$.fragment,i),n=D(i),P(t.$$.fragment,i),i.forEach(b),this.h()},h(){d(e,"class","grid grid-cols-2 gap-2")},m(s,i){q(s,e,i),S(l,e,null),g(e,n),S(t,e,null),a=!0},p:De,i(s){a||(p(l.$$.fragment,s),p(t.$$.fragment,s),a=!0)},o(s){E(l.$$.fragment,s),E(t.$$.fragment,s),a=!1},d(s){s&&b(e),F(l),F(t)}}}function Xe(r){let e;return{c(){e=z("Подтвердить")},l(l){e=G(l,"Подтвердить")},m(l,n){q(l,e,n)},d(l){l&&b(e)}}}function je(r){let e,l,n,t,a,s,i,u,f,o,_,c,L,T,R,K,U,V,h,y,x,C,Q,ee,re;s=new W({props:{name:"prompt",label:"Запрос",placeholder:"elden ring, epic",required:!0}}),u=new W({props:{name:"negative-prompt",label:"Антизапрос",placeholder:"realism",required:!0}}),o=new de({props:{name:"sampler-method",options:r[1],label:"Метод семплера"}}),c=new fe({props:{name:"sampler-steps",min:20,max:40,label:"Шаги семплера"}});function pe(m){r[3](m)}let se={name:"dimensions",options:r[2],label:"Размер изображения"};r[0]!==void 0&&(se.value=r[0]),T=new de({props:se}),ke.push(()=>$e(T,"value",pe));let v=r[0]==="custom"&&_e();return V=new W({props:{name:"seed",label:"Seed",placeholder:"любой текст"}}),y=new fe({props:{name:"cfg-scale",min:1,max:25,label:"CFG Scale"}}),C=new Pe({props:{type:"submit",$$slots:{default:[Xe]},$$scope:{ctx:r}}}),{c(){e=k("h1"),l=z("TXT -> IMG"),n=N(),t=k("form"),a=k("div"),I(s.$$.fragment),i=N(),I(u.$$.fragment),f=N(),I(o.$$.fragment),_=N(),I(c.$$.fragment),L=N(),I(T.$$.fragment),K=N(),v&&v.c(),U=N(),I(V.$$.fragment),h=N(),I(y.$$.fragment),x=N(),I(C.$$.fragment),this.h()},l(m){e=$(m,"H1",{class:!0});var M=A(e);l=G(M,"TXT -> IMG"),M.forEach(b),n=D(m),t=$(m,"FORM",{class:!0});var w=A(t);a=$(w,"DIV",{class:!0});var H=A(a);P(s.$$.fragment,H),i=D(H),P(u.$$.fragment,H),H.forEach(b),f=D(w),P(o.$$.fragment,w),_=D(w),P(c.$$.fragment,w),L=D(w),P(T.$$.fragment,w),K=D(w),v&&v.l(w),U=D(w),P(V.$$.fragment,w),h=D(w),P(y.$$.fragment,w),x=D(w),P(C.$$.fragment,w),w.forEach(b),this.h()},h(){d(e,"class","text-center text-3xl"),d(a,"class","grid grid-cols-2 gap-2 mt-4"),d(t,"class","grid gap-4")},m(m,M){q(m,e,M),g(e,l),q(m,n,M),q(m,t,M),g(t,a),S(s,a,null),g(a,i),S(u,a,null),g(t,f),S(o,t,null),g(t,_),S(c,t,null),g(t,L),S(T,t,null),g(t,K),v&&v.m(t,null),g(t,U),S(V,t,null),g(t,h),S(y,t,null),g(t,x),S(C,t,null),Q=!0,ee||(re=O(t,"submit",qe(r[4])),ee=!0)},p(m,[M]){const w={};!R&&M&1&&(R=!0,w.value=m[0],Te(()=>R=!1)),T.$set(w),m[0]==="custom"?v?(v.p(m,M),M&1&&p(v,1)):(v=_e(),v.c(),p(v,1),v.m(t,U)):v&&(he(),E(v,1,1,()=>{v=null}),ge());const H={};M&64&&(H.$$scope={dirty:M,ctx:m}),C.$set(H)},i(m){Q||(p(s.$$.fragment,m),p(u.$$.fragment,m),p(o.$$.fragment,m),p(c.$$.fragment,m),p(T.$$.fragment,m),p(v),p(V.$$.fragment,m),p(y.$$.fragment,m),p(C.$$.fragment,m),Q=!0)},o(m){E(s.$$.fragment,m),E(u.$$.fragment,m),E(o.$$.fragment,m),E(c.$$.fragment,m),E(T.$$.fragment,m),E(v),E(V.$$.fragment,m),E(y.$$.fragment,m),E(C.$$.fragment,m),Q=!1},d(m){m&&b(e),m&&b(n),m&&b(t),F(s),F(u),F(o),F(c),F(T),v&&v.d(),F(V),F(y),F(C),ee=!1,re()}}}function be(r){if(typeof r=="string"||isNaN(r))return new Error("Введите корректное число");if(r%2===1)return new Error("Размер должен быть кратен 2")}function Je(r){const e={};r.forEach((l,n)=>{e[n]=l}),console.log(e),window.Telegram.WebApp.sendData(JSON.stringify(e))}function Re(r,e,l){const n=[{label:"Euler 𝛼",value:"euler_a"},{label:"Heun",value:"heun"},{label:"DPM++ M2",value:"dpmpp_m2"},{label:"DDIM",value:"ddim"}],t=[{label:"Квадрат",value:"square"},{label:"Портрет",value:"portrait"},{label:"Пейзаж",value:"landscape"},{label:"Другое",value:"custom"}];let a=t[0].value;const s=()=>{var f;document.documentElement.style.setProperty("min-height",`${(f=window.visualViewport)==null?void 0:f.height}`)};Ne(()=>{var f;return(f=window.visualViewport)==null||f.addEventListener("resize",s),()=>{var o;return(o=window.visualViewport)==null?void 0:o.removeEventListener("resize",s)}});function i(f){a=f,l(0,a)}return[a,n,t,i,f=>Je(new FormData(f.currentTarget))]}class Qe extends X{constructor(e){super(),j(this,e,Re,je,J,{})}}export{Qe as default};
