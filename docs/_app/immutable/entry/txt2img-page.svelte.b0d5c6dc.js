import{S as Y,i as K,s as Q,e as J,b as q,v as ve,d as V,f as pe,g as w,h as _,C as we,D as ke,E as Ee,F as Te,k as v,q as U,a as E,l as p,m as k,r as C,c as T,n as c,G as h,u as z,y as I,z as M,A as S,B as D,L,J as qe,M as oe,N as Ve,O as Ae,H as Ne,o as Pe,P as Ie,w as Me}from"../chunks/index.261427c6.js";function Se(u){let e;const t=u[3].default,l=we(t,u,u[2],null);return{c(){l&&l.c()},l(n){l&&l.l(n)},m(n,a){l&&l.m(n,a),e=!0},p(n,a){l&&l.p&&(!e||a&4)&&ke(l,t,n,n[2],e?Te(t,n[2],a,null):Ee(n[2]),null)},i(n){e||(w(l,n),e=!0)},o(n){V(l,n),e=!1},d(n){l&&l.d(n)}}}function De(u){let e,t,l,n,a,r,i=u[1]&&me();const s=u[3].default,f=we(s,u,u[2],null);return{c(){e=v("label"),t=v("span"),l=U(u[0]),n=E(),i&&i.c(),a=E(),f&&f.c(),this.h()},l(m){e=p(m,"LABEL",{class:!0});var d=k(e);t=p(d,"SPAN",{class:!0});var o=k(t);l=C(o,u[0]),n=T(o),i&&i.l(o),o.forEach(_),a=T(d),f&&f.l(d),d.forEach(_),this.h()},h(){c(t,"class","text-sm text-[var(--theme-hint-color)] pl-1.5"),c(e,"class","flex flex-col")},m(m,d){q(m,e,d),h(e,t),h(t,l),h(t,n),i&&i.m(t,null),h(e,a),f&&f.m(e,null),r=!0},p(m,d){(!r||d&1)&&z(l,m[0]),m[1]?i||(i=me(),i.c(),i.m(t,null)):i&&(i.d(1),i=null),f&&f.p&&(!r||d&4)&&ke(f,s,m,m[2],r?Te(s,m[2],d,null):Ee(m[2]),null)},i(m){r||(w(f,m),r=!0)},o(m){V(f,m),r=!1},d(m){m&&_(e),i&&i.d(),f&&f.d(m)}}}function me(u){let e,t;return{c(){e=v("span"),t=U("*"),this.h()},l(l){e=p(l,"SPAN",{class:!0});var n=k(e);t=C(n,"*"),n.forEach(_),this.h()},h(){c(e,"class","text-sm text-red-500")},m(l,n){q(l,e,n),h(e,t)},d(l){l&&_(e)}}}function Fe(u){let e,t,l,n;const a=[De,Se],r=[];function i(s,f){return s[0]!==void 0?0:1}return e=i(u),t=r[e]=a[e](u),{c(){t.c(),l=J()},l(s){t.l(s),l=J()},m(s,f){r[e].m(s,f),q(s,l,f),n=!0},p(s,[f]){let m=e;e=i(s),e===m?r[e].p(s,f):(ve(),V(r[m],1,1,()=>{r[m]=null}),pe(),t=r[e],t?t.p(s,f):(t=r[e]=a[e](s),t.c()),w(t,1),t.m(l.parentNode,l))},i(s){n||(w(t),n=!0)},o(s){V(t),n=!1},d(s){r[e].d(s),s&&_(l)}}}function Be(u,e,t){let{$$slots:l={},$$scope:n}=e,{label:a=void 0}=e,{required:r=!1}=e;return u.$$set=i=>{"label"in i&&t(0,a=i.label),"required"in i&&t(1,r=i.required),"$$scope"in i&&t(2,n=i.$$scope)},[a,r,n,l]}class se extends Y{constructor(e){super(),K(this,e,Be,Fe,Q,{label:0,required:1})}}function Le(u){let e,t,l,n,a,r,i,s,f,m;return{c(){e=v("div"),t=v("span"),l=U(u[2]),n=E(),a=v("input"),r=E(),i=v("span"),s=U(u[1]),this.h()},l(d){e=p(d,"DIV",{class:!0});var o=k(e);t=p(o,"SPAN",{});var N=k(t);l=C(N,u[2]),N.forEach(_),n=T(o),a=p(o,"INPUT",{class:!0,type:!0,max:!0,min:!0,step:!0,name:!0}),r=T(o),i=p(o,"SPAN",{});var P=k(i);s=C(P,u[1]),P.forEach(_),o.forEach(_),this.h()},h(){c(a,"class","mx-1 flex-1 accent-[var(--theme-button-color)]"),c(a,"type","range"),a.value=u[0],c(a,"max",u[1]),c(a,"min",u[2]),c(a,"step",u[3]),c(a,"name",u[4]),c(e,"class","flex text-sm")},m(d,o){q(d,e,o),h(e,t),h(t,l),h(e,n),h(e,a),h(e,r),h(e,i),h(i,s),f||(m=L(a,"input",u[8]),f=!0)},p(d,o){o&4&&z(l,d[2]),o&1&&(a.value=d[0]),o&2&&c(a,"max",d[1]),o&4&&c(a,"min",d[2]),o&8&&c(a,"step",d[3]),o&16&&c(a,"name",d[4]),o&2&&z(s,d[1])},d(d){d&&_(e),f=!1,m()}}}function Ue(u){let e,t;return e=new se({props:{label:u[5]+": "+u[0],$$slots:{default:[Le]},$$scope:{ctx:u}}}),{c(){I(e.$$.fragment)},l(l){M(e.$$.fragment,l)},m(l,n){S(e,l,n),t=!0},p(l,[n]){const a={};n&33&&(a.label=l[5]+": "+l[0]),n&543&&(a.$$scope={dirty:n,ctx:l}),e.$set(a)},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){V(e.$$.fragment,l),t=!1},d(l){D(e,l)}}}function Ce(u,e,t){let{max:l}=e,{min:n}=e,{step:a=1}=e,{defaultValue:r=(l+n)/2}=e,{value:i=r}=e,{name:s=void 0}=e,{label:f=void 0}=e;function m(o){t(0,i=+o)}const d=o=>m(o.currentTarget.value);return u.$$set=o=>{"max"in o&&t(1,l=o.max),"min"in o&&t(2,n=o.min),"step"in o&&t(3,a=o.step),"defaultValue"in o&&t(7,r=o.defaultValue),"value"in o&&t(0,i=o.value),"name"in o&&t(4,s=o.name),"label"in o&&t(5,f=o.label)},[i,l,n,a,s,f,m,r,d]}class de extends Y{constructor(e){super(),K(this,e,Ce,Ue,Q,{max:1,min:2,step:3,defaultValue:7,value:0,name:4,label:5})}}function ce(u,e,t){const l=u.slice();return l[3]=e[t].label,l[6]=e[t].value,l}function _e(u){let e,t;return e=new se({props:{label:u[3],$$slots:{default:[Oe]},$$scope:{ctx:u}}}),{c(){I(e.$$.fragment)},l(l){M(e.$$.fragment,l)},m(l,n){S(e,l,n),t=!0},p(l,n){const a={};n&8&&(a.label=l[3]),n&519&&(a.$$scope={dirty:n,ctx:l}),e.$set(a)},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){V(e.$$.fragment,l),t=!1},d(l){D(e,l)}}}function he(u){let e,t,l=u[3]+"",n,a,r,i;function s(){return u[5](u[6])}return{c(){e=v("li"),t=v("button"),n=U(l),a=E(),this.h()},l(f){e=p(f,"LI",{class:!0});var m=k(e);t=p(m,"BUTTON",{type:!0,class:!0});var d=k(t);n=C(d,l),d.forEach(_),a=T(m),m.forEach(_),this.h()},h(){c(t,"type","button"),c(t,"class","item cursor-pointer svelte-fv5mem"),oe(t,"selected",u[0]===u[6]),c(e,"class","[&:not(:last-child)]:mr-4")},m(f,m){q(f,e,m),h(e,t),h(t,n),h(e,a),r||(i=L(t,"click",s),r=!0)},p(f,m){u=f,m&4&&l!==(l=u[3]+"")&&z(n,l),m&5&&oe(t,"selected",u[0]===u[6])},d(f){f&&_(e),r=!1,i()}}}function Oe(u){let e,t,l,n=u[2],a=[];for(let r=0;r<n.length;r+=1)a[r]=he(ce(u,n,r));return{c(){e=v("ul");for(let r=0;r<a.length;r+=1)a[r].c();t=E(),l=v("input"),this.h()},l(r){e=p(r,"UL",{class:!0});var i=k(e);for(let s=0;s<a.length;s+=1)a[s].l(i);i.forEach(_),t=T(r),l=p(r,"INPUT",{type:!0,name:!0}),this.h()},h(){c(e,"class","flex flex-nowrap list-none overflow-auto max-w-full pt-1"),c(l,"type","hidden"),c(l,"name",u[1]),l.value=u[0]},m(r,i){q(r,e,i);for(let s=0;s<a.length;s+=1)a[s]&&a[s].m(e,null);q(r,t,i),q(r,l,i)},p(r,i){if(i&5){n=r[2];let s;for(s=0;s<n.length;s+=1){const f=ce(r,n,s);a[s]?a[s].p(f,i):(a[s]=he(f),a[s].c(),a[s].m(e,null))}for(;s<a.length;s+=1)a[s].d(1);a.length=n.length}i&2&&c(l,"name",r[1]),i&1&&(l.value=r[0])},d(r){r&&_(e),qe(a,r),r&&_(t),r&&_(l)}}}function We(u){let e,t,l=u[2].length>0&&_e(u);return{c(){l&&l.c(),e=J()},l(n){l&&l.l(n),e=J()},m(n,a){l&&l.m(n,a),q(n,e,a),t=!0},p(n,[a]){n[2].length>0?l?(l.p(n,a),a&4&&w(l,1)):(l=_e(n),l.c(),w(l,1),l.m(e.parentNode,e)):l&&(ve(),V(l,1,1,()=>{l=null}),pe())},i(n){t||(w(l),t=!0)},o(n){V(l),t=!1},d(n){l&&l.d(n),n&&_(e)}}}function Ge(u,e,t){let{name:l=void 0}=e,{options:n=[]}=e,{label:a=void 0}=e,{defaultValue:r=n[0].value}=e,{value:i=r}=e;const s=f=>t(0,i=f);return u.$$set=f=>{"name"in f&&t(1,l=f.name),"options"in f&&t(2,n=f.options),"label"in f&&t(3,a=f.label),"defaultValue"in f&&t(4,r=f.defaultValue),"value"in f&&t(0,i=f.value)},[i,l,n,a,r,s]}class be extends Y{constructor(e){super(),K(this,e,Ge,We,Q,{name:1,options:2,label:3,defaultValue:4,value:0})}}function ge(u){let e,t=u[7].message+"",l;return{c(){e=v("span"),l=U(t),this.h()},l(n){e=p(n,"SPAN",{class:!0});var a=k(e);l=C(a,t),a.forEach(_),this.h()},h(){c(e,"class","text-xs text-red-500")},m(n,a){q(n,e,a),h(e,l)},p(n,a){a&128&&t!==(t=n[7].message+"")&&z(l,t)},d(n){n&&_(e)}}}function ye(u){let e,t,l,n,a,r,i=u[8]&&u[7]!==void 0&&ge(u);return{c(){e=v("input"),l=E(),i&&i.c(),n=J(),this.h()},l(s){e=p(s,"INPUT",{type:!0,name:!0,placeholder:!0,class:!0,"aria-label":!0}),l=T(s),i&&i.l(s),n=J(),this.h()},h(){c(e,"type",u[6]),c(e,"name",u[4]),c(e,"placeholder",u[2]),e.disabled=u[3],e.required=u[5],e.value=u[0],c(e,"class",t="border border-[var(--theme-hint-color)] rounded-md p-1 focus-visible:border-[var(--theme-text-color)] outline-0 "+(u[8]?"invalid:border-red-500":"")+" "+(u[8]&&u[7]!==void 0?"border-red-500":"")),c(e,"aria-label",u[1])},m(s,f){q(s,e,f),q(s,l,f),i&&i.m(s,f),q(s,n,f),a||(r=[L(e,"input",u[10]),L(e,"change",u[13]),L(e,"focus",u[14]),L(e,"blur",u[15])],a=!0)},p(s,f){f&64&&c(e,"type",s[6]),f&16&&c(e,"name",s[4]),f&4&&c(e,"placeholder",s[2]),f&8&&(e.disabled=s[3]),f&32&&(e.required=s[5]),f&1&&e.value!==s[0]&&(e.value=s[0]),f&384&&t!==(t="border border-[var(--theme-hint-color)] rounded-md p-1 focus-visible:border-[var(--theme-text-color)] outline-0 "+(s[8]?"invalid:border-red-500":"")+" "+(s[8]&&s[7]!==void 0?"border-red-500":""))&&c(e,"class",t),f&2&&c(e,"aria-label",s[1]),s[8]&&s[7]!==void 0?i?i.p(s,f):(i=ge(s),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null)},d(s){s&&_(e),s&&_(l),i&&i.d(s),s&&_(n),a=!1,Ve(r)}}}function He(u){let e,t;return e=new se({props:{label:u[1],required:u[5],$$slots:{default:[ye]},$$scope:{ctx:u}}}),{c(){I(e.$$.fragment)},l(l){M(e.$$.fragment,l)},m(l,n){S(e,l,n),t=!0},p(l,[n]){const a={};n&2&&(a.label=l[1]),n&32&&(a.required=l[5]),n&131583&&(a.$$scope={dirty:n,ctx:l}),e.$set(a)},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){V(e.$$.fragment,l),t=!1},d(l){D(e,l)}}}function Re(u,e,t){let{label:l=void 0}=e,{defaultValue:n=""}=e,{value:a=n}=e,{placeholder:r=void 0}=e,{disabled:i=!1}=e,{name:s=void 0}=e,{required:f=!1}=e,{validate:m=void 0}=e,{type:d="text"}=e,o,N=!1;function P(b){return d.match(/^number|range$/)?+b:b}function O(b){t(7,o=m==null?void 0:m(P(b)))}function A(b){t(0,a=P(b.currentTarget.value))}const F=b=>O(b.currentTarget.value),X=()=>t(8,N=!1),B=()=>t(8,N=!0);return u.$$set=b=>{"label"in b&&t(1,l=b.label),"defaultValue"in b&&t(11,n=b.defaultValue),"value"in b&&t(0,a=b.value),"placeholder"in b&&t(2,r=b.placeholder),"disabled"in b&&t(3,i=b.disabled),"name"in b&&t(4,s=b.name),"required"in b&&t(5,f=b.required),"validate"in b&&t(12,m=b.validate),"type"in b&&t(6,d=b.type)},[a,l,r,i,s,f,d,o,N,O,A,n,m,F,X,B]}class ae extends Y{constructor(e){super(),K(this,e,Re,He,Q,{label:1,defaultValue:11,value:0,placeholder:2,disabled:3,name:4,required:5,validate:12,type:6})}}function je(u){let e,t,l,n,a,r,i,s,f,m,d,o,N,P,O,A,F,X,B,b,y,ee,H,le,R,te,Z,ne,re;return r=new ae({props:{name:"prompt",label:"Запрос",placeholder:"elden ring, epic",required:!0}}),s=new ae({props:{name:"negative_prompt",label:"Антизапрос",placeholder:"realism"}}),m=new be({props:{name:"dimensions",options:u[2],label:"Размер изображения: "}}),F=new be({props:{name:"sampler_method",options:u[1],label:"Метод семплера"}}),B=new de({props:{name:"sampler_steps",min:20,max:40,label:"Шаги семплера",defaultValue:20}}),y=new ae({props:{name:"seed",label:"Seed",placeholder:"1234567890",type:"number"}}),H=new de({props:{name:"cfg_scale",min:1,max:25,label:"CFG Scale",step:.5,defaultValue:7.5}}),{c(){e=v("h1"),t=U("TXT -> IMG"),l=E(),n=v("form"),a=v("div"),I(r.$$.fragment),i=E(),I(s.$$.fragment),f=E(),I(m.$$.fragment),d=E(),o=v("details"),N=v("summary"),P=U("Продвинутые опции"),O=E(),A=v("div"),I(F.$$.fragment),X=E(),I(B.$$.fragment),b=E(),I(y.$$.fragment),ee=E(),I(H.$$.fragment),le=E(),R=v("button"),te=U("submit"),this.h()},l(g){e=p(g,"H1",{class:!0});var j=k(e);t=C(j,"TXT -> IMG"),j.forEach(_),l=T(g),n=p(g,"FORM",{class:!0});var W=k(n);a=p(W,"DIV",{class:!0});var x=k(a);M(r.$$.fragment,x),i=T(x),M(s.$$.fragment,x),x.forEach(_),f=T(W),M(m.$$.fragment,W),d=T(W),o=p(W,"DETAILS",{});var $=k(o);N=p($,"SUMMARY",{});var ie=k(N);P=C(ie,"Продвинутые опции"),ie.forEach(_),O=T($),A=p($,"DIV",{class:!0});var G=k(A);M(F.$$.fragment,G),X=T(G),M(B.$$.fragment,G),b=T(G),M(y.$$.fragment,G),ee=T(G),M(H.$$.fragment,G),G.forEach(_),$.forEach(_),le=T(W),R=p(W,"BUTTON",{});var fe=k(R);te=C(fe,"submit"),fe.forEach(_),W.forEach(_),this.h()},h(){c(e,"class","text-center text-3xl"),c(a,"class","grid grid-cols-2 gap-2 mt-4"),c(A,"class","grid gap-4"),c(n,"class","grid gap-4 p-4")},m(g,j){q(g,e,j),h(e,t),q(g,l,j),q(g,n,j),h(n,a),S(r,a,null),h(a,i),S(s,a,null),h(n,f),S(m,n,null),h(n,d),h(n,o),h(o,N),h(N,P),h(o,O),h(o,A),S(F,A,null),h(A,X),S(B,A,null),h(A,b),S(y,A,null),h(A,ee),S(H,A,null),h(n,le),h(n,R),h(R,te),u[6](n),Z=!0,ne||(re=[L(R,"click",u[4]),L(n,"submit",Ae(u[5])),L(n,"input",u[3])],ne=!0)},p:Ne,i(g){Z||(w(r.$$.fragment,g),w(s.$$.fragment,g),w(m.$$.fragment,g),w(F.$$.fragment,g),w(B.$$.fragment,g),w(y.$$.fragment,g),w(H.$$.fragment,g),Z=!0)},o(g){V(r.$$.fragment,g),V(s.$$.fragment,g),V(m.$$.fragment,g),V(F.$$.fragment,g),V(B.$$.fragment,g),V(y.$$.fragment,g),V(H.$$.fragment,g),Z=!1},d(g){g&&_(e),g&&_(l),g&&_(n),D(r),D(s),D(m),D(F),D(B),D(y),D(H),u[6](null),ne=!1,Ve(re)}}}const ue="dimensions";function Je(u,e,t){const l=[{label:"Euler 𝛼",value:"euler_a"},{label:"Heun",value:"heun"},{label:"DPM++ M2",value:"dpmpp_m2"},{label:"DDIM",value:"ddim"}],n=[{label:"Квадрат [512x512]",value:"square"},{label:"Портрет [512x768]",value:"portrait"},{label:"Пейзаж [768x512]",value:"landscape"}],a={square:{width:512,height:512},portrait:{width:512,height:768},landscape:{width:768,height:512}};let r;function i(o){return o in a?a[o]:{}}function s(){r.checkValidity()&&window.Telegram.WebApp.MainButton.setParams({color:window.Telegram.WebApp.themeParams.button_color}).enable()}function f(){window.Telegram.WebApp.MainButton.showProgress();const o={};new FormData(r).forEach((P,O)=>{P&&(o[O]=P)}),typeof o[ue]=="string"&&(Object.assign(o,i(o[ue])),delete o[ue]),console.log(o),window.Telegram.WebApp.sendData(JSON.stringify(o))}Pe(()=>{window.Telegram.WebApp.MainButton.setText("Сгенерировать").onClick(()=>f()).disable().setParams({color:window.Telegram.WebApp.themeParams.hint_color}).show()});function m(o){Ie.call(this,u,o)}function d(o){Me[o?"unshift":"push"](()=>{r=o,t(0,r)})}return[r,l,n,s,f,m,d]}class ze extends Y{constructor(e){super(),K(this,e,Je,je,Q,{})}}export{ze as default};
